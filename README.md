# migrate-dremio-local-users
Create user in a new Dremio cluster from users referenced in a Dremio Cloner backup file

## This python script can be used to create local Dremio users in a newly stages Dremio cluster, based on the users referenced in a Dremio Cloner backup file.

For Dremio Cloner information, see: https://github.com/deane-dremio/dremio-cloner

## Requirements:

- Python3
- Pip3
- Python packages: json, requests, os, sys, getpass
- A backup file generated by Dremio Cloner
- A target running Dremio cluster with an admin user name and password

## Use these steps

Step 1. Create a working directory

     $ mkdir migrate-users && cd migrate-users

Step 2. Clone this git repo

     $ git clone https://github.com/gregpalmr/migrate-dremio-local-users

     $ cd migrate-dremio-local-users/src

Step 3. Copy the backup file generated by the Dremio Cloner

     $ cp ~/dremio-cloner/dremio-cloner.backup .

Step 4. Before running the Dremio Cloner PUT operation, run this script to create local users


     $ python3 migrate-dremio-users.py

     Running migrate-dremio-users.py - a python script that creates users in a new Dremio cluster
     from users referenced in a Dremio Cloner backup file.

     Enter New Dremio Cluster's HTTP URL: [http://localhost:9047]

     Enter New Dremio Cluster's Admin User ID: greg

     Enter Admin Password: ******

     Enter the name of the Dremio Cloner backup file: [dremio-cloner.backup] dremio-cloner.backup

       Successfully authenticated.

       Processing user:  Adam Franklyn  -  adam@email.com
        Successfully created user "adam"

       Processing user:  Greg Palmer  -  greg@dremio.com
        Skiping this admin user "greg"

---

### Direct comments or questions to greg@dremio.com

